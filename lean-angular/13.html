<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="initial-scale=1.0,width=device-width,user-scalable=no,maximum-scale=1.0" />
<meta name="format-detection" content="telephone=no,email=no" />
<title>13、表单基本验证 - input</title>

<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/learn.css">

<!-- js文件引用 -->
<script src="js/angular1.5.5.min.js"></script>
<script src="js/learn.js"></script>

</head>
<body>

<!-- angular start -->
<div class="angular clearfix" ng-app="app">

	<!-- 左侧导航菜单 start -->
    <div nav id="isMobile"></div>
	<!-- 左侧导航菜单 end -->

	<!-- 右侧内容 start -->
	<div class="content col-sm-12 col-md-10">

		<!-- start -->
		<fieldset class="example" ng-controller="example">
			<legend>表单基本验证-input</legend>
			<div class="cloumn">

				<form name="login" class="form-inline" ng-submit="submit()">
					<div class="list">
						<label for="userName">姓名：</label>
						<input type="text" class="form-control" name="userName" ng-model="userName" ng-minlength="6" ng-maxlength="10" required>
						<span class="error tipsRed" ng-show="login.userName.$dirty && login.userName.$invalid">
							<span class="error" ng-show="login.userName.$error.required">姓名不能为空</span>
							<span class="error" ng-show="login.userName.$error.minlength">姓名最少6个字符</span>
							<span class="error" ng-show="login.userName.$error.maxlength">姓名最多10个字符</span>
						</span>
					</div>

					<div class="list m-t20">
						<label for="userName">手机：</label>
						<input type="text" class="form-control" name="phone" ng-model="phone" ng-pattern="/^0?1[3|4|5|6|8][0-9]\d{8}$/" ng-minlength="11" ng-maxlength="11" required>
						<span class="error tipsRed" ng-hide="!(login.phone.$dirty && login.phone.$invalid)">
						    <span class="error" ng-hide="!(login.phone.$error.required)">手机号不能为空</span>
						    <span class="error" ng-hide="!(login.phone.$error.pattern)">请输入正确的手机号</span>
						    <span class="error" ng-hide="!(login.phone.$error.minlength)">手机号为11位数字</span>
						    <span class="error" ng-hide="!(login.phone.$error.maxlength)">手机号为11位数字</span>
						</span>
						<p class="m-t20">
							<input type="submit" ng-disabled="login.$invalid" class="btn btn-danger btn-sm" value="提交">
							<input type="reset" class="btn btn-primary btn-sm" value="重置">
						</p>
					</div>

				</form>
				
				<p class="analysed m-t20">
					代码解析：
					<br>
					* 为form设置name
					<br>
					* 在input里设置验证项
					<br>
					* 设置ng-show 条件（login.userName.$dirty && login.userName.$invalid）
					<br>
					* 在ng-show中单独设置验证项错误提示
				</p>
			</div>
			<legend>表单验证常用指令</legend>
			<form class="form-inline">
				1、必填项验证：
				<input type="text" class="sourceCode" value="<input type='text' required />">
				2. 最小长度：
				<input type="text" class="sourceCode" value="<input type='text' ng-minlength='5' />">
				3. 最大长度：
				<input type="text" class="sourceCode" value="<input type='text' ng-maxlength='20' />">
				4. 正则表达式：
				<input type="text" class="sourceCode" value="<input type='text' ng-pattern='/[a-zA-Z]/' />">
				5. 电子邮件、数字、URL 设置对应的type即可
				<input type="text" class="sourceCode" value="<input type='email' name='email' ng-model='user.email' /> ">
			</form>
		</fieldset>
		<!-- end -->

		<!-- 显示导航 -->
		<a href="#isMobile" class="showNav" ng-controller="showNav" ng-click="showNav()">显示导航</a>
		<!-- 显示导航 -->

		<!-- UY BEGIN -->
		<div id="uyan_frame"></div>
		<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2087884"></script>
		<!-- UY END -->
		
	</div>
	<!-- 右侧内容 end -->
</div>
<!-- angular end -->

<script>
app.controller('example', function($scope){
	$scope.submit = function(){
		if($scope.login.$invalid){
			alert("验证不通过!");
		}else{
			alert("ok！验证通过!");
		}
	}	
})
</script>

</body>
</html>