var app=angular.module("app",["ngRoute"]);app.config(["$routeProvider",function(e){e.when("/questionnaire",{templateUrl:"questionnaire.html"}).when("/notices",{templateUrl:"notices.html"}).when("/result",{templateUrl:"result.html"}).when("/resultDetail",{templateUrl:"resultDetail.html"}).otherwise({redirectTo:"notices"})}]);
app.controller("disclosure",["$scope",function(o){}]);
app.controller("notices",["$scope",function(e){e.name="leelean"}]);
app.controller("questionnaire",["$scope","$http","$location",function($scope,$http,$location){$http({url:"./json/questions.json"}).success(function(data){var score=[];$scope.questionsLength=data.questions.length,$scope.questions=data.questions[0],$scope.list=data.questions[0].list,$scope.progress_width={width:100/$scope.questionsLength+"%"},$scope.changeQues=function(e){$scope.questions=data.questions[e],$scope.list=data.questions[e].list},$scope.preQues=function(e){0===e?alert("当前为第一题"):($scope.changeQues(e-1),$scope.progress_width={width:100/$scope.questionsLength*e+"%"})},$scope.nxtQues=function(index,e){var ev=e.target,_this=angular.element(ev),optionVal=_this.attr("data-value");if(index===$scope.questionsLength+1){score[$scope.questionsLength]=optionVal;var scoreVal=eval(score.join("+"));$http({url:"json/aaa.text"}).success(function(e){$location.hash("score="+scoreVal),$location.path("/result")})}else $scope.changeQues(index-1),$scope.progress_width={width:100/$scope.questionsLength*index+"%"},score[index-1]=optionVal}})}]);
app.controller("result",["$scope","$location",function(o,s){s.hash().split("=")[1]?o.score=s.hash().split("=")[1]:o.score="需要ajax获取！"}]);
app.controller("resultDetail",["$scope",function(e){}]);